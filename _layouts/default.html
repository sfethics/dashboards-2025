<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body class="bg-gray">

    {%- include header.html -%}
    
    <main class="page-content" aria-label="Content">
      {%- if layout.electionnav -%}
      <div class="election-nav-wrapper">
        {%- include election-nav.html -%}
      </div>
      {%- endif -%}
      <div class="content-wrapper">
        {{ content }}
{% if page.last_updated %}
  <div class="container page-last-updated-wrap">
    <div class="page-last-updated-callout">
      <span class="page-last-updated-label">Page last updated</span>
      <span class="formatted-date">{{ page.last_updated }}</span>
    </div>
  </div>
{% endif %}
      </div>
    </main>

    {%- include footer.html -%}
    {% if page.election %}
      {%- include tooltips.html -%}
      {%- include committees_table.html election=page.election -%}
      <script src="/assets/js/tables_committees_list.js"></script>
    {% endif %}
    <!-- Conditional script loading based on layout type: election, contest_candidate, contest_bmc, contributors, committee_expenses 
     (candidate_committee, committee, major_donor, slate_mailer) -->
    {% if page.layout == "election" %}
      <script src="/assets/js/tables_election.js"></script>
    {% elsif page.layout == "contest_candidate" %}
      <script src="/assets/js/tables_contest_candidate.js"></script>
    {% elsif page.layout == "contest_bmc" %}
      <script src="/assets/js/tables_contest_bmc.js"></script>
    {% elsif page.layout == "contributors" %}
      <script src="/assets/js/tables_contributors.js"></script>
    {% elsif page.layout == "committee_expenses" %}
      <script src="/assets/js/tables_committee_expenses.js"></script>
    {% else %}
      <script src="/assets/js/tables_committee.js"></script>
      <script src="/assets/js/card_carousel.js"></script>
    {% endif %}

  </body>
  
</html>
